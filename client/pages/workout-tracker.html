<!DOCTYPE html>
<html lang="en">

<script>
  (async function() {
    const token = localStorage.getItem('token');
    if (!token) {
      location.href = 'log-in.html';
      return;
    }
    try {
      const res = await fetch('/api/auth/me', {
        method: 'GET',
        headers: { 'Authorization': `Bearer ${token}` }
      });
      if (!res.ok) throw new Error();
    } catch (err) {
      localStorage.removeItem('token');
      location.href = 'log-in.html';
      return;
    }
    // If we get here, user is authenticated ‚Üí do nothing
  })();
</script>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Workouts</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Roboto:wght@400&display=swap"
    rel="stylesheet">
    <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>
  <!-- Link to the external CSS file -->
  <link rel="stylesheet" href="../styles/workout-tracker.css">
  <!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Raising The Bar</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Roboto:wght@400&display=swap"
  rel="stylesheet">
  <link href="../styles/landing-page.css" rel="stylesheet">
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-W9CSNHSLQQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-W9CSNHSLQQ');
</script>
</head>

<body>
  <div class="header">
    <div class="header-inner">
      <a href="../index.html" class="logo">
        <img id="logo" src="../assets/rtb-logo-white.png" alt="Raising The Bar Logo">
      </a>
  
      <!-- Desktop nav (inline) -->
      <nav class="main-nav" id="main-nav">
        <!-- close btn -->
        <button class="nav-close" id="nav-close" aria-label="Close Menu">‚úï</button>
      
        <ul>
          <li><a href="#" id="nav-workouts">My Workouts</a></li>
          <li><a href="#" id="nav-nutrition">My Nutrition</a></li>
          <li><a href="#" id="nav-help">Help</a></li>
        </ul>
      </nav>
  
      <!-- Mobile hamburger -->
      <button class="hamburger" id="hamburger-btn" aria-label="Toggle Menu">‚ò∞</button>
  
      <!-- Dark mode toggle -->
      <div class="dark-mode-button">
        <img id="darkModeToggle" src="" alt="">
      </div>
    </div>
  </div>
  
  <!-- ‚Äî‚Äî‚Äî‚Äî‚Äî Modals ‚Äî‚Äî‚Äî‚Äî‚Äî -->
  
  <!-- Email‚Äëlogin / Claim modal -->
  <div id="login-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="login-title">
    <div class="modal-content">
      <button class="close-btn" data-target="login-modal" aria-label="Close">‚úï</button>
  
      <h2 id="login-title">Log in to your Tracker</h2>
  
      <!-- identical field names to main login page -->
      <form id="modal-login-form" novalidate>
        <div class="input-group">
          <label for="modal-email">Email</label>
          <input type="email"
                 id="modal-email"
                 name="email"
                 placeholder="you@example.com"
                 required
                 autocomplete="email">
          <span class="error-message" id="modal-email-error" role="alert"></span>
        </div>
  
        <div class="input-group">
          <label for="modal-password">Password</label>
          <input type="password"
                 id="modal-password"
                 name="password"
                 placeholder="Your password"
                 required
                 autocomplete="current-password">
          <span class="error-message" id="modal-password-error" role="alert"></span>
        </div>

        <label class="remember-wrap">
          <input type="checkbox" id="remember-me" class="checkbox">
          <span class="checkmark"></span>
          Remember me
        </label>
  
        <button type="submit" class="login-btn">Continue</button>
      </form>
  
      <p class="small">
        Don‚Äôt have a program yet?
        <a href="pages/forms.html">Claim your program here ‚Üí</a>
      </p>
    </div>
  </div>  
  
  <!-- Help / FAQ modal (Option B) -->
  <div id="faq-modal" class="modal">
    <div class="modal-content">
      <button class="close-btn" data-target="faq-modal">‚úï</button>
      <h2>Frequently Asked Questions</h2>
      <div class="faq-list">
        <details>
          <summary>How do I get started?</summary>
          <p class="faq-answer">Tap <strong>‚ÄúClaim Your Program‚Äù</strong>, fill out the short form, and your personalised tracker will be ready within minutes.</p>
        </details>
    
        <details>
          <summary>What if I‚Äôve never followed a program before?</summary>
          <p class="faq-answer">No problem. This is built for real people ‚Äî simple steps, flexible tools, and progress at your pace.</p>
        </details>
    
        <details>
          <summary>Can I change my goals later on?</summary>
          <p class="faq-answer">Absolutely. Once you're inside your tracker, you can update your goals anytime ‚Äî your plan will adapt automatically.</p>
        </details>
    
        <details>
          <summary>What happens after I sign up?</summary>
          <p class="faq-answer">You'll unlock your own dashboard ‚Äî filled with workouts, meals, and progress tools tailored to your goals, lifestyle, and experience level. It all connects in one place, ready to use right away.</p>
        </details>
    
        <details>
          <summary>Still have questions?</summary>
          <p class="faq-answer"><a href="pages/contact-us.html">Click here</a> to contact us or explore more answers. We're here to support you.</p>
        </details>
      </div>
    </div>
  </div>
  <div class="slogan fade-in">
    <p>We ask how you feel ‚Äî then adjust your plan around it.</p>
  </div>
<div class="dark-mode-button">
  <img id="darkModeToggle" src="" alt=""
    height="0px">
</div>

  <section>
  <div class="fade-in">
    <div class="cta-container"> 
      <a href="pages/forms.html" class="claim-program-btn">Claim Your Program</a>
    </div>
    <p class="trust-line">
      Made for people who actually want to improve.
      </p>
  </div>
</section>
<section class="mini-testimonial fade-in">
  <div class="testimonial-card mini">
    <div class="images">
      <div class="before">
        <img src="../assets/lynn_before.JPEG" alt="Before">
        <p>Before</p>
      </div>
      <div class="after">
        <img src="../assets/lynn_after.png" alt="After">
        <p>After</p>
      </div>
    </div>
    <p class="review-name">Lee</p>
    <div class="five-stars">
      <img src="../assets/5-stars.png" alt="5 Stars">
    </div>
    <p class="review-text-mini">
      Nothing stuck ‚Äî until this. I lost 10kg and, more than that, I don‚Äôt feel lost anymore.
    </p>
  </div>
</section>
  <section class="tailored-training-plan fade-in">
    <h2>What You‚Äôre Getting</h2>
    <p class="hero-subheading">
      This is how you finally stay consistent ‚Äî and see real progress.
      </p>
      <p class="hero-text">
        <!-- You'll unlock a web-based <strong>adaptive all-in-one-tracker</strong>, tailored to you from the start, designed to <strong>remove guesswork</strong>  and evolve with you. -->
         You‚Äôll unlock a smart, web-based tracker that‚Äôs built around you ‚Äî adapting to your goals, your performance, and your progress.
        <p class="hero-text">
          <!-- When you join, you‚Äôll unlock access to your personal dashboard where <strong>everything connects</strong>: -->
    </p>
    <div class="step-by-step">
      <ul class="steps-list">
        <li class="step-item">
          <span class="emoji-box">‚úÖ</span>
          <p style="margin-top: 5px;">
            <strong>Complete a quick 2-minute form</strong> to share your goals, preferences, and lifestyle.
          </p>
        </li>
        <li class="step-item">
          <span class="emoji-box">üöÄ</span>
          <p>
            <strong>Unlock your all-in-one-tracker</strong>, packed with tailored workouts, meals, and progress tools, ready instantly.
          </p>
        </li>
        <li class="step-item">
          <span class="emoji-box">üí™</span>
          <p style="margin-bottom: 5px;">
            <strong>Stay consistent and build momentum</strong> - with a plan that adapts every step of the way.
          </p>
      </ul>
      <p class="hero-text">
        No extra apps. No spreadsheets. Just one place to train, eat, and track everything.
      </p>
    </div>
  </section>
  <section class="habit-building fade-in">
    <h2>Feel Better, Every Day</h2>
    <div class="habit-image">
      <img src="../assets/person_walking_outside.jpg" alt="A person running in nature or doing yoga outdoors" />
    </div>
    <p>
      This is about more than workouts. When your plan adjusts to your life ‚Äî not the other way around ‚Äî everything changes. You‚Äôll think clearer, feel more in control, and build the confidence that comes from showing up for yourself ‚Äî day after day.
    </p>
  </section>  
  <section class="nutrition-section fade-in">
    <h2>Meals That Work With You</h2>
    <div class="nutrition-image">
      <img src="../assets/meal-prep.jpg" alt="A person preparing a healthy meal" />
    </div>
    <p>
      Your meals adapt to your goals, preferences, and schedule ‚Äî with evolving plans that keep things fresh and easy to follow. No extra apps. No stress. Just simple, balanced nutrition that fits into your life.
    </p>
  </section>  
<!-- Testimonial Section (Landing Page) -->
<div class="testimonial-section fade-in">
  <h2>See What Happens When Everything Connects</h2>
  <p class="hero-text">
    Progress from real people, using the same system you're about to unlock.
  </p>

  <div class="testimonial-container">
    <!-- Desktop Arrows (hidden on mobile) -->
    <button class="arrow-button prev">‚ùÆ</button>

    <!-- Slider that holds all testimonial cards -->
    <div class="testimonial-slider">
      <!-- Populated by JS -->
    </div>

    <button class="arrow-button next">‚ùØ</button>
  </div>
</div>

<!-- Dots / Pagination for slides -->
<div class="dots-container fade-in"></div>

<div class="cta-container-subtle fade-in">
  <a href="pages/forms.html" class="claim-program-btn-subtle">Claim Your Program</a>
</div>
  <section class="youtube-prompt-section fade-in">
    <div class="youtube-video-container">

      <!-- Placeholder video -->
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/dQw4w9WgXcQ"
        title="YouTube video placeholder"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen>
      </iframe>
    </div>
    <p class="hero-text">
      Watch how it works ‚Äî in under 90 seconds.
    </p>
    <div class="join-now-prompt">
      <h2>Join now</h2>
      <div class="cta-container">
        <a href="pages/forms.html" class="claim-program-btn">Claim Your Program</a>
      </div>
      <p class="trust-line">
        Built by a small team of lifters, developers, and designers who‚Äôve been exactly where you are. 
        </p>
    </div>
  </section>

    <!-- Cookie Banner -->
    <div id="cookie-banner" class="cookie-banner">
      <p>We use cookies to enhance your experience, analyze site traffic, and for marketing purposes. By clicking "Accept All," you consent to our use of cookies. Learn more in our <a href="pages/cookie-policy.html">Cookie Policy</a>.</p>
      <div class="cookie-buttons">
        <button id="accept-all">Accept All</button>
        <button id="deny-all">Deny</button>
      </div>
    </div>
  
    <footer class="footer fade-in" id="footer">
      <div class="footer-content">
        <p>&copy; 2025 Raising The Bar App Ltd. All rights reserved.</p>
        <div class="footer-links">
          <a href="index.html">Start Training</a>
          <span class="separator">|</span>
          <a href="pages/legal-overview.html">Our Policies</a>
          <span class="separator">|</span>
          <a href="pages/contact-us.html">Contact Us</a>
        </div>
        <div class="social-icons">
          <a href="https://www.instagram.com" target="_blank" aria-label="Instagram">
            <img src="../assets/instagram-icon.png" alt="Instagram">
          </a>
          <a href="https://www.youtube.com" target="_blank" aria-label="YouTube">
            <img src="../assets/youtube-icon.png" alt="YouTube">
          </a>
          <a href="https://www.tiktok.com" target="_blank" aria-label="TikTok">
            <img src="../assets/tiktok-icon.png" alt="TikTok">
          </a>
        </div>
      </div>
    </footer>
    <script type="module" src="../scripts/landing-page.js"></script>
</body>

</html>
</head>

<body>
  <div id="loaderOverlay" class="loader-overlay">
    <img src="../assets/rtb-logo-white.png" alt="Raising The Bar logo"
         class="loader-logo" />
  </div>
  <!-- Header -->
  <div class="header" id="header">
    <div class="logo">
      <a href="dashboard.html">
        <img id="logo" src="../assets/rtb-logo-white.png" alt="Raising The Bar Logo">
      </a>
      <!-- Desktop nav (inline) -->
      <nav class="main-nav" id="main-nav">
        <!-- close btn -->
        <button class="nav-close" id="nav-close" aria-label="Close Menu">‚úï</button>

        <ul>
          <li><a href="dashboard.html">My Dashboard</a></li>
          <!-- <li><a href="workout-tracker.html" id="nav-workouts">My Workouts</a></li> -->
          <li><a href="nutrition-tracker.html" id="nav-nutrition">My Nutrition</a></li>
          <li><a href="#" id="nav-help">Help</a></li>
        </ul>
      </nav>

      <!-- Mobile hamburger -->
      <button class="hamburger" id="hamburger-btn" aria-label="Toggle Menu">‚ò∞</button>
    </div>
  </div>
  <div id="trackerBadge"></div>

  <div id="wtOnboardingOverlay" class="wt-onboarding-overlay">
    <div class="wt-onboarding-slider">
      <!-- Screen¬†1¬†‚Äì personalised welcome ---------------------------->
      <section class="wt-onboarding-card" data-step="1">
        <h2 class="wt-line wt-title"></h2>
        <p class="wt-line wt-goal"></p>
        <p class="wt-line wt-driver"></p>

        <button class="wt-next-btn">Next</button>
      </section>

      <!-- Screen¬†2¬†‚Äì tracker tutorial ------------------------------->
      <section class="wt-onboarding-card" data-step="2">
        <h2 class="wt-line wt-title">Here‚Äôs how to use your tracker.</h2>
        <ul class="wt-tutorial">
          <li class="wt-line">
            <span class="wt-emoji-tutorial">‚úÖ</span>
            <strong>Tick sets as you go</strong> ‚Äî it‚Äôs the core of your tracking.
          </li>
          <li class="wt-line">
            <span class="wt-emoji-tutorial">üî¢</span>
            <strong>Suggested reps are a range</strong> ‚Äî log how many you actually did.
          </li>
          <li class="wt-line">
            <span class="wt-emoji-tutorial">üèãÔ∏è</span>
            <strong>Weights are auto‚Äëcalculated</strong> ‚Äî override anytime.
          </li>
          <li class="wt-line">
            <span class="wt-emoji-tutorial">‚è±Ô∏è</span>
            <strong>Press Start to begin</strong> ‚Äî then Finish when you're done.
          </li>
        </ul>
        <p class="wt-line wt-sub">
          You‚Äôll get the hang of it in no time ‚Äî just start logging and keep showing up.
        </p>
        <button class="wt-next-btn">Next</button>
      </section>

      <!-- Screen¬†3¬†‚Äì motivation ------------------------------------->
      <section class="wt-onboarding-card" data-step="3">
        <h2 class="wt-line wt-title"></h2>
        <p class="wt-line wt-subtitle"></p>

        <button class="wt-close-btn">Open¬†My¬†Tracker</button>
      </section>
    </div>

    <!-- dot indicators -->
    <div id="wtOnboardingDots" class="wt-onboarding-dots"></div>
  </div>

  <div id="stickyHeader" class="fixed-header">
    <span id="stickyCurrentLevel">Lvl 0</span>
    <div class="xp-bar">
      <div id="stickyXpBarFill" class="xp-bar-fill" style="width: 0%;"></div>
    </div>
    <!-- New XP gain element for the sticky header -->
    <span id="sticky-xp-gain-animation">+0 XP</span>
  </div>

  <!-- Main Workout Tracker Section -->
  <div id="workout-tracker" class="">
    <!-- Heading: "Welcome, {userName}" or "Welcome back, {userName}" -->
    <h1 id="welcome-heading"></h1>

    <!-- Streak message -->
    <div id="streak-message"></div>

    <!-- XP Bar -->
    <div class="xp-bar-container">
      <span id="current-level">Lvl 0</span>
      <div class="xp-bar">
        <div class="xp-bar-fill" id="xpBarFill" style="width: 0%;"></div>
      </div>
      <span id="xp-gain-animation">+0 XP</span>
    </div>

    <!-- Tabs -->
    <div class="tab-container">
      <div class="tab active" id="myWorkoutsTab">My Workouts</div>
      <div class="tab" id="myProgressTab">My Progress</div>
    </div>

    <!-- The new "frame" container -->
    <div class="week-selector-frame">
      <!-- The existing .week-selector-wrapper as a child -->
      <div class="week-selector-wrapper">
        <div class="week-selector" id="weekSelector">
          <!-- your .week-box items go here -->
        </div>
      </div>
    </div>


    <div class="tab-content">
      <!-- My Workouts Section -->
      <div id="myWorkoutsSection" class="tab-section active">
        <!-- Week Selector -->

        <!-- The actual day's workout display -->
        <div id="workoutDisplay">
          <!-- Dynamically populated with exercises, sets, etc. -->
        </div>

        <!-- Day Selector (Days in the selected week) -->
        <div class="day-selector-frame">
          <div class="day-selector-wrapper">
            <div class="day-selector" id="daySelector">
              <!-- Dynamically populated with .day-box items -->
            </div>
          </div>
        </div>

        <!-- Previous / Next Workout Buttons -->
        <div class="navigation-buttons">
          <button id="prevWorkoutBtn">Previous Workout</button>
          <button id="nextWorkoutBtn">Next Workout</button>
        </div>
      </div>

      <!-- ======================================= -->
      <!--  My Progress Section   -->
      <!-- ======================================= -->
      <div id="myProgressSection" class="tab-section">
        <!-- The new "Overview (Dashboard View)" for AWT users -->
        <div id="myProgressOverview" style="display: none;">
          <!-- 1) Centered h3 -->
          <h3 class="progress-score-heading">Progress Score</h3>

          <!-- 2) Info icon + dynamic Progress Score side by side, centered -->
          <div class="progress-score-info-container">
            <h2 class="progress-score-value" id="progressScoreValue">0</h2>
            <!-- Small "i" icon with circle -->
            <span class="info-icon" id="progressInfoIcon">i</span>
            <!-- The smooth fade-in pop-up -->
            <div class="info-popup progress-info-popup" id="progressInfoPopup">
              Your Progress Score reflects your overall fitness progress.<br><br>
              It's based on your workouts, meals logged, consistency, and how well you stick to your plan over time.
            </div>
          </div>

          <!-- Below the PS, display On-Track / Off-Track + daily message -->
          <div id="progressTrackStatus" class="progress-status-message"></div>
          <div id="progressDailyMessage" class="progress-daily-message"></div>
          <h3 id="todaysTipHeading" style="text-align:center; margin-top:30px; margin-bottom:15px; display:none;">
            Today‚Äôs Tip
          </h3>
          <div id="todaysTipCard" class="coach-insights-note"
            style="background-color: #cce5ff; display:none; max-width: 500px; margin: 0 auto;">
            <!-- JS will place the tip text here -->
          </div>
          <!-- 
               ======================================
               WEEKLY RECAP SECTION
               ======================================
          -->
          <!-- Subheading: "Your Weekly Recap" -->
          <h3 id="weeklyRecapSubheading" style="text-align:center; margin-top: 30px; margin-bottom: 15px;">
            Your Weekly Recap
          </h3>

          <!-- Container that will hold the swipeable cards for the recap -->
          <div id="weeklyRecapWrapper" class="recap-swiper-container">
            <!-- If user is in Week 1, we‚Äôll show one non-swipeable card with welcome text.
                 Otherwise, from Week 2 onwards, we display 4 mandatory cards plus possibly
                 1 highlight card at the end if triggered. 
                 The JavaScript will dynamically populate them, including the dot indicators.
            -->
            <div id="weeklyRecapCards" class="recap-cards-inner">
              <!-- Populated by JS -->
            </div>

            <!-- The dot indicators for Recap -->
            <div id="weeklyRecapDots" class="recap-dots-container"></div>
          </div>

          <!--
               ==========================================
               AREAS FOR IMPROVEMENT
               ==========================================
          -->
          <!-- Subheading: "Areas For Improvement" (shown only if triggered) -->
          <h3 id="areasImprovementSubheading"
            style="text-align:center; margin-top: 40px; margin-bottom: 15px; display:none;">
            Areas For Improvement
          </h3>

          <!-- Similar swipeable container, but can have up to 2 cards -->
          <div id="areasImprovementWrapper" class="recap-swiper-container" style="display:none;">
            <div id="areasImprovementCards" class="recap-cards-inner">
              <!-- Populated by JS -->
            </div>
            <!-- The dot indicators for improvements -->
            <div id="areasImprovementDots" class="recap-dots-container"></div>
          </div>

          <!-- A fallback text if there‚Äôs zero improvements to show -->
          <p id="areasNoImprovementMessage" style="text-align:center; display:none;">
            You‚Äôre doing great, keep up the fantastic work!
          </p>

          <!-- 
     ===========================================
     STRENGTH & WORKOUT TRENDS
     ===========================================
-->
          <h3 id="strengthWorkoutTrendsHeading"
            style="text-align:center; margin-top: 40px; margin-bottom: 15px; display:none;">
            Strength &amp; Workout Trends
          </h3>

          <div id="strengthWorkoutTrendsSection" style="display:none;">
            <!-- Subheading & advanced dropdown for the exercise selection -->
            <div class="exercise-analysis-header">
              <span id="selectedExerciseName" class="exercise-analysis-subheading">Exercise Analysis</span>
              <!-- The chevron triggers the dropdown -->
              <span id="exerciseDropdownChevron" class="analysis-dropdown-chevron">&#9662;</span>
            </div>

            <!-- Advanced Dropdown Container -->
            <div id="exerciseDropdownContainer" class="analysis-dropdown-container hidden">
              <!-- Search input at the top -->
              <div class="analysis-search-wrapper">
                <input id="analysisSearchInput" class="analysis-search-input" type="text"
                  placeholder="Search by name, muscle, or phase.">
              </div>
              <!-- The list below, grouped by Phase, each group sorted alphabetically -->
              <div id="analysisExerciseList" class="analysis-exercise-list">
                <!-- Populated by JS. 
           We will have headings like "--- Phase 1 ---" then clickable items. 
           If no matches, display "No exercise found." 
      -->
              </div>
            </div>

            <!-- Swipeable Cards for the 3 charts -->
            <div id="strengthTrendsWrapper" class="recap-swiper-container" style="margin-top: 30px;">
              <div id="strengthTrendsCards" class="recap-cards-inner">
                <!-- 1) Line Chart (Volume) card -->
                <div class="recap-card trend-card">
                  <div class="recap-card-title">Total Volume</div>
                  <canvas id="chartTotalVolume" width="400" height="300"></canvas>
                </div>

                <!-- 2) Bar Chart (Reps & Sets) card -->
                <div class="recap-card trend-card">
                  <div class="recap-card-title">Reps &amp; Sets Progression</div>
                  <canvas id="chartRepsSets" width="400" height="300"></canvas>
                </div>

                <!-- 3) Consistency Heatmap (Calendar) card -->
                <div class="recap-card trend-card">
                  <div class="recap-card-title">
                    Consistency Heatmap
                    <!-- Smaller info icon -->
                    <span class="info-icon info-icon-smaller" id="heatmapInfoIcon">i</span>
                    <!-- The pop-up for heatmap info -->
                    <div class="info-popup" id="heatmapInfoPopup">
                      <div class="heatmap-info-row">
                        <span class="heatmap-color-square green"></span> Completed
                      </div>
                      <div class="heatmap-info-row">
                        <span class="heatmap-color-square red"></span> Missed
                      </div>
                      <div class="heatmap-info-row">
                        <span class="heatmap-color-square yellow"></span> Partially Completed
                      </div>
                      <div class="heatmap-info-row">
                        <span class="heatmap-color-square blue"></span> Completed Late
                      </div>
                      <div class="heatmap-info-row">
                        <span class="heatmap-color-square gray"></span> Upcoming
                      </div>
                    </div>
                  </div>
                  <div id="heatmapContainer" class="heatmap-container">
                  </div>
                </div>
              </div>
              <!-- The dot indicators for the 3 trend cards -->
              <div id="strengthTrendsDots" class="recap-dots-container"></div>
            </div>

            <!-- Coach Insights -->
            <h3 id="coachInsightsHeading"
              style="text-align:center; margin-top: 30px; margin-bottom: 15px; display:none;">
              Coach Insights
            </h3>
            <div id="coachInsightsContainer" class="coach-insights-container" style="display:none;">
              <!-- We show a single sticky-note style message or a fallback message about deload/no data -->
              <div id="coachInsightsMessage" class="coach-insights-note"></div>
            </div>
            <!-- ======================================= -->
            <!-- Section 89 - Body Composition & Goal Progress -->
            <!-- ======================================= -->
            <div id="bodyCompositionSection" class="body-composition-section">
              <h3 class="progress-score-heading body-composition-title">
                Body Composition &amp; Goal Progress
              </h3>

              <!-- 1) Bodyweight Line Graph -->
              <div class="bodyweight-chart-container">
                <canvas id="bodyWeightChart" width="400" height="250"></canvas>
              </div>

              <!-- 2) Goal Progress Widget -->
              <div id="goalProgressWidget" class="goal-progress-widget">
                <h4 class="goal-progress-heading">Goal Progress</h4>

                <!-- Row 1: Goal -->
                <div class="goal-progress-row">
                  <label for="goalWeightInput" class="goal-progress-label">Goal:</label>
                  <input type="number" id="goalWeightInput" class="goal-progress-input" />
                </div>

                <div class="goal-progress-row">
                  <label for="goalByDateInput" class="goal-progress-label">Goal by:</label>
                  <input type="date" id="goalByDateInput" class="goal-progress-input" />
                </div>

                <div class="goal-progress-row">
                  <label for="currentWeightInput" class="goal-progress-label">Current:</label>
                  <input type="number" id="currentWeightInput" class="goal-progress-input" />

                </div>

                <!-- Log Weight Button -->
                <button id="logWeightBtn" class="log-weight-button">
                  Log Weight
                </button>

                <!-- Dynamic Title + Progress Bar -->
                <!-- Two separate elements, but we want them on one line -->
                <div id="goalProgressLine" class="goal-progress-line">
                  <div id="goalProgressTitle" class="goal-progress-dynamic-title">Weight Change:</div>
                  <div id="goalProgressValue" class="goal-progress-dynamic-value">-69.0 kg so far</div>
                </div>


                <div class="goal-progress-bar-container">
                  <div class="goal-progress-bar">
                    <div id="weightProgressFill" class="goal-progress-bar-fill"></div>
                  </div>
                  <div id="weightProgressPercent" class="goal-progress-percent">0%</div>
                </div>

                <!-- Estimated Time Left -->
                <div class="estimated-time-row" id="estimatedTimeContainer">
                  <span class="estimated-time-label">Estimated Time Left:</span>
                  <span id="estimatedTimeLeft" class="estimated-time-value">-</span>
                  <span>You‚Äôre expected to hit your goal by&nbsp;</span>
                  <span id="estimatedGoalDate" class="estimated-time-value">-</span>
                </div>
              </div>

              <!-- 3) Recent Milestones -->
              <div id="recentMilestones" class="recent-milestones">
                <!-- Populated by JS if any milestone is triggered -->
              </div>
              <!-- 4) Body Composition Coach Insights -->
              <h3 id="bodyCompCoachInsightsHeading"
                style="text-align:center; margin-top: 30px; margin-bottom: 15px; display:none;">
                Coach Insights
              </h3>
              <div id="bodyCompCoachInsightsContainer" class="coach-insights-container" style="display:none;">
                <!-- A sticky-note style container for the dynamic insight text -->
                <div id="bodyCompCoachInsightsMessage" class="coach-insights-note"></div>
              </div>
            </div>

          </div>
        </div>

        <!-- If user hasn't purchased AWT, or there's no data, fallback text -->
        <div id="myProgressContainer"></div>
        <p id="noProgressDataMessage" style="text-align: center;">
          No progress data yet.
        </p>
      </div>

    </div>
  </div>

  <div id="faq-modal" class="faq-modal">
    <div class="faq-modal-content">
      <button class="close-btn" data-target="faq-modal">‚úï</button>
      <h2>Frequently Asked Questions</h2>
      <div class="faq-list">
        <details>
          <summary>How do I get started?</summary>
          <p class="faq-answer">Tap <strong>‚ÄúClaim Your Program‚Äù</strong>, fill out the short form, and your
            personalised tracker will be ready within minutes.</p>
        </details>

        <details>
          <summary>What if I‚Äôve never followed a program before?</summary>
          <p class="faq-answer">No problem. This is built for real people ‚Äî simple steps, flexible tools, and progress
            at your pace.</p>
        </details>

        <details>
          <summary>Can I change my goals later on?</summary>
          <p class="faq-answer">Absolutely. Once you're inside your tracker, you can update your goals anytime ‚Äî your
            plan will adapt automatically.</p>
        </details>

        <details>
          <summary>What happens after I sign up?</summary>
          <p class="faq-answer">You'll unlock your own dashboard ‚Äî filled with workouts, meals, and progress tools
            tailored to your goals, lifestyle, and experience level. It all connects in one place, ready to use right
            away.</p>
        </details>

        <details>
          <summary>Still have questions?</summary>
          <p class="faq-answer"><a href="contact-us.html">Click here</a> to contact us or explore more answers. We're
            here to support you.</p>
        </details>
      </div>
    </div>
  </div>

  <div id="ctUpsellOverlay">
    <div class="ct-upsell-card" id="ctUpsellCard"><!-- filled by JS --></div>
  </div>

  <!-- Footer -->
  <footer class="footer fade-in" id="footer">
    <div class="footer-content">
      <p>&copy; 2025 Raising The Bar App Ltd. All rights reserved.</p>
      <div class="footer-links">
        <a href="index.html">Start Training</a>
        <span class="separator">|</span>
        <a href="legal-overview.html">Our Policies</a>
        <span class="separator">|</span>
        <a href="contact-us.html">Contact Us</a>
      </div>
      <div class="social-icons">
        <a href="https://www.instagram.com" target="_blank" aria-label="Instagram">
          <img src="../assets/instagram-icon.png" alt="Instagram">
        </a>
        <a href="https://www.youtube.com" target="_blank" aria-label="YouTube">
          <img src="../assets/youtube-icon.png" alt="YouTube">
        </a>
        <a href="https://www.tiktok.com" target="_blank" aria-label="TikTok">
          <img src="../assets/tiktok-icon.png" alt="TikTok">
        </a>
      </div>
    </div>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Link to the external JavaScript file -->
  <script type="module" src="../scripts/forms.js"></script>
  <script type="module" defer src="../scripts/modules/my-progress.js"></script>

  <!-- then the tracker file that calls those globals -->
  <script defer src="../scripts/workout-tracker.js"></script>
</body>

</html>